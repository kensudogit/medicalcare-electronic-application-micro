spring:
  application:
    name: api-gateway
  main:
    web-application-type: reactive
  webflux:
    static-path-pattern: /**
  resources:
    static-locations: classpath:/static/
  cloud:
    gateway:
      discovery:
        locator:
          enabled: false
      # ルーティング設定はGatewayConfig.javaで定義されています
      # ここでは設定を削除し、Java Configを使用します

server:
  port: ${PORT:8080}

eureka:
  client:
    service-url:
      defaultZone: ${EUREKA_SERVER_URL:http://service-discovery:8761/eureka/}
    register-with-eureka: ${EUREKA_REGISTER:true}
    fetch-registry: ${EUREKA_FETCH:true}
    enabled: ${EUREKA_ENABLED:true}
    # Eurekaサーバーへの接続タイムアウト設定
    eureka-service-url-poll-interval-seconds: 5
    eureka-server-connect-timeout-seconds: 5
    eureka-server-read-timeout-seconds: 5

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always 